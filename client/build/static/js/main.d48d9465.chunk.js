(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),a=n(12),i=n.n(a),s=(n(19),n(4)),o=(n(20),n(13)),l=n(1),d=function(){return Object(l.jsxs)("h1",{className:"logo_container",children:[Object(l.jsx)(o.a,{}),Object(l.jsx)("span",{children:"Pet Work"})]})},j=function(e){var t=e.userIcon,n=e.openMenu;return Object(l.jsxs)("nav",{children:[Object(l.jsx)(d,{}),Object(l.jsx)("div",{className:"user_icon",style:{backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"cover"},onClick:n})]})},u=n(5),b=function(e){var t=e.userId,c=n(8).production.NEW_POST_URL;return Object(l.jsxs)("div",{className:"form_container",children:[Object(l.jsxs)("form",{className:"new_work_form",method:"POST",action:c,children:[Object(l.jsx)("label",{htmlFor:"pet_name",children:"Pet Name *"}),Object(l.jsx)("input",{type:"text",id:"pet_name",name:"pet_name",required:!0}),Object(l.jsx)("label",{htmlFor:"pet_service",children:"Job *"}),Object(l.jsx)("input",{type:"text",id:"pet_service",name:"service",required:!0}),Object(l.jsx)("label",{htmlFor:"pet_price",children:"Price *"}),Object(l.jsx)("input",{type:"number",id:"pet_price",name:"price",min:"0",max:"9999",required:!0}),Object(l.jsx)("label",{htmlFor:"image_url",children:"Selfie URL"}),Object(l.jsx)("input",{type:"text",name:"image_url",id:"image_url"}),Object(l.jsx)("label",{htmlFor:"hire_redirect",children:"Social Media URL"}),Object(l.jsx)("input",{type:"text",name:"hire_redirect",id:"hire_redirect"}),Object(l.jsx)("input",{type:"hidden",value:t,name:"created_by"}),Object(l.jsx)("button",{children:"Create Work"})]}),Object(l.jsx)(u.b,{to:"/",className:"go_back",children:"Back"})]})},h=n(3),p=n(14),O=function(){var e=n(8).production.LOGIN_REDIRECT_URL;return Object(l.jsx)("div",{className:"google_component_container",children:Object(l.jsxs)("div",{className:"login_message",children:[Object(l.jsx)(d,{}),Object(l.jsx)("h2",{children:"Find work as a pet"}),Object(l.jsx)("hr",{}),Object(l.jsxs)("a",{href:"".concat(e),children:[Object(l.jsx)(p.a,{id:"FcGoogle"})," Log in"]})]})})},m=function(){return Object(l.jsxs)("div",{className:"loading_icon_container",children:[Object(l.jsx)("div",{className:"loading_icon"}),Object(l.jsx)("div",{className:"loading_icon"}),Object(l.jsx)("div",{className:"loading_icon"})]})},_=function(e){var t=e.hire_redirect,n=e.pet_name,c=e.service,r=e.price,a=e.created_by,i=e.setCurrentlyEditingPostData,s=e._id,o=e.userId,d=e.image_url,j=e.pet,b={background:"url(".concat(d,")"),backgroundPosition:"center",backgroundSize:"cover"};return Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("div",{className:"pet_img",style:b}),Object(l.jsxs)("div",{className:"card_text",children:[Object(l.jsxs)("h1",{children:["Name ",Object(l.jsx)("span",{children:n})]}),Object(l.jsxs)("h1",{children:["Service",Object(l.jsx)("span",{children:c})]}),Object(l.jsxs)("h1",{children:["Price ",Object(l.jsxs)("span",{children:[r,"\ud83e\uddb4"]})]})]}),a===o?Object(l.jsx)(u.b,{onClick:function(){i(j)},to:"/edit/".concat(s),className:"edit_btn",children:"\ud83d\udd8a\ufe0f"}):Object(l.jsx)(l.Fragment,{}),a!==o?Object(l.jsx)("a",{href:"".concat(t),className:"card_hire",target:"_blank",children:"Hire!"}):Object(l.jsx)(l.Fragment,{})]},n)},x=function(e){var t="";return t=(t=e.replace("https://","")).replace("www.",""),t="https://www.".concat(t)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",n=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0;return e.map((function(e){var r=e.hire_redirect,a=e.image_url,i=e.pet_name,s=e.service,o=e.price,d=e.created_by,j=e._id,u="own"!==t||d===n;if(r=x(r),u)return Object(l.jsx)(_,{pet_name:i,image_url:a,service:s,price:o,created_by:d,hire_redirect:r,_id:j,userId:n,pet:e,setCurrentlyEditingPostData:c},"".concat(i).concat(s))}))},f=function(e){var t=e.postsArray,n=e.userId,c=e.setCurrentlyEditingPostData;return Object(l.jsx)("div",{className:"main_page_container",children:0!==t.length?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"main_page_content",children:g(t,"own",n,c)}),Object(l.jsx)(u.b,{to:"/new",className:"add_service",children:"Post Work"})]}):Object(l.jsx)(m,{})})},v=function(e){var t=e.postsArray,n=e.userId,c=e.setCurrentlyEditingPostData;return Object(l.jsx)("div",{className:"main_page_container",children:0!==t.length?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"main_page_content",children:g(t,"all",n,c)}),Object(l.jsx)(u.b,{to:"/new",className:"add_service",children:"Post Work"})]}):Object(l.jsx)(m,{})})},E=function(e){var t=e.userId,r=e.currentlyEditingPostData,a=n(8).production.EDIT_POST_URL,i=r.hire_redirect,o=r.image_url,d=r.pet_name,j=r.service,b=r.price,h=r._id,p=Object(c.useState)(i),O=Object(s.a)(p,2),m=O[0],_=O[1],x=Object(c.useState)(o),g=Object(s.a)(x,2),f=g[0],v=g[1],E=Object(c.useState)(d),L=Object(s.a)(E,2),S=L[0],y=L[1],I=Object(c.useState)(j),T=Object(s.a)(I,2),R=T[0],w=T[1],N=Object(c.useState)(b),k=Object(s.a)(N,2),P=k[0],C=k[1],G=Object(c.useState)("delete"),U=Object(s.a)(G,2),D=U[0],A=U[1],F=Object(c.useState)("hidden"),M=Object(s.a)(F,2),W=M[0],B=M[1];return Object(l.jsxs)("div",{className:"form_container",children:[Object(l.jsxs)("form",{className:"new_work_form",method:"POST",action:"".concat(a).concat(h,"?_method=PUT"),children:[Object(l.jsx)("label",{htmlFor:"pet_name",children:"Pet Name *"}),Object(l.jsx)("input",{type:"text",id:"pet_name",name:"pet_name",required:!0,value:S,onChange:function(e){return y(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"pet_service",children:"Service *"}),Object(l.jsx)("input",{type:"text",id:"pet_service",name:"service",required:!0,value:R,onChange:function(e){return w(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"pet_price",children:"Price *"}),Object(l.jsx)("input",{type:"number",id:"pet_price",name:"price",min:"0",max:"9999",required:!0,value:P,onChange:function(e){return C(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"image_url",children:"Selfie URL"}),Object(l.jsx)("input",{type:"text",name:"image_url",id:"image_url",value:f,onChange:function(e){return v(e.target.value)}}),Object(l.jsx)("label",{htmlFor:"hire_redirect",children:"Social Media URL"}),Object(l.jsx)("input",{type:"text",name:"hire_redirect",id:"hire_redirect",value:m,onChange:function(e){return _(e.target.value)}}),Object(l.jsx)("input",{type:"hidden",defaultValue:t,name:"created_by"}),Object(l.jsx)("button",{children:"Edit Post"})]}),Object(l.jsx)(u.b,{to:"/",className:"go_back",children:"Back"}),Object(l.jsx)("form",{method:"POST",action:"".concat(a).concat(h,"?_method=DELETE"),children:Object(l.jsxs)("div",{className:"delete_container",children:[Object(l.jsx)("button",{className:D,onClick:function(e){e.preventDefault(),B("confirm_delete"),A("hidden")},children:"Delete"}),Object(l.jsxs)("div",{className:W,children:[Object(l.jsx)("a",{href:"#",onClick:function(){B("hidden"),A("delete")},children:"o"}),Object(l.jsx)("button",{children:"x"})]})]})})]})},L=n(7),S=n.n(L),y=n(10),I=function(){var e=Object(y.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/loggedState").then((function(e){return e.json()})).then((function(e){t(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(y.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/userInfo").then((function(e){return e.json()})).then((function(e){t(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(y.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/posts").then((function(e){return e.json()})).then((function(e){t(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n(23);var w=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),r=t[0],a=t[1],i=Object(c.useState)({}),o=Object(s.a)(i,2),d=o[0],p=o[1],m=Object(c.useState)({}),_=Object(s.a)(m,2),x=_[0],g=_[1],L=Object(c.useState)([]),S=Object(s.a)(L,2),y=S[0],w=S[1],N=Object(c.useState)("app_menu hidden"),k=Object(s.a)(N,2),P=k[0],C=k[1],G=document.querySelector("html"),U=n(8).production.LOGOUT_REDIRECT_URL;Object(c.useEffect)((function(){I(a).then((function(){return T(p)})).then((function(){return R(w)}))}),[]);var D=function(){P.includes("hidden")&&(C("app_menu"),G.classList.add("block_scroll")),P.includes("hidden")||(C("app_menu hidden"),G.classList.remove("block_scroll"))};return Object(l.jsx)("div",{className:"AppDiv",children:!0===r?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(j,{userIcon:d.imageUrl,openMenu:D}),Object(l.jsxs)("div",{className:P,children:[Object(l.jsx)(u.b,{to:"/myposts/".concat(d.googleId),onClick:D,children:"MY POSTS"}),Object(l.jsx)(u.b,{to:"/",onClick:D,children:"HOME"}),Object(l.jsx)("a",{href:U,children:"LOGOUT"})]}),Object(l.jsxs)(h.c,{children:[Object(l.jsx)(h.a,{path:"/",element:Object(l.jsx)(v,{postsArray:y,userId:d.googleId,setCurrentlyEditingPostData:g})}),Object(l.jsx)(h.a,{path:"/new",exact:!0,element:Object(l.jsx)(b,{userId:d.googleId})}),Object(l.jsx)(h.a,{path:"/myposts/:id",element:Object(l.jsx)(f,{postsArray:y,userId:d.googleId,setCurrentlyEditingPostData:g})}),Object(l.jsx)(h.a,{path:"/edit/:id",element:Object(l.jsx)(E,{userId:d.googleId,currentlyEditingPostData:x})})]})]}):Object(l.jsx)(O,{})})};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(u.a,{children:Object(l.jsx)(w,{})})}),document.getElementById("root"))},8:function(e){e.exports=JSON.parse('{"development":{"PORT":5000,"GOOGLE_CALLBACK_URL":"http://localhost:5000/auth/google/callback","LOGIN_REDIRECT_URL":"http://localhost:5000/auth/google","HOMEPAGE":"http://localhost:3000","MONGO_URI":"mongodb+srv://LucasPenniceDBUser:JaudW060hGelWPS6@traversybradapp.jds6o.mongodb.net/storyBooks?retryWrites=true&w=majority","GOOGLE_CLIENT_ID":"1023148491900-2msh80u955k6bq82nnafep35517amhv8.apps.googleusercontent.com","GOOGLE_CLIENT_SECRET":"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","DEFAULT_IMAGE":"https://images.unsplash.com/photo-1543466835-00a7907e9de1?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80","DEFAULT_REDIRECT":"https://www.youtube.com/watch?v=f1-2xRx2gnE&t=1s&ab_channel=Mavial","LOGGED_STATE_URL":"/api/loggedState","USER_INFO_URL":"/api/userInfo","GET_POSTS_URL":"/api/posts","LOGOUT_REDIRECT_URL":"http://localhost:5000/api/logout","NEW_POST_URL":"/api/new/","EDIT_POST_URL":"/api/edit/"},"production":{"GOOGLE_CALLBACK_URL":"https://pet-work.herokuapp.com/auth/google/callback","LOGIN_REDIRECT_URL":"https://pet-work.herokuapp.com/auth/google","HOMEPAGE":"https://pet-work.herokuapp.com/","MONGO_URI":"mongodb+srv://LucasPenniceDBUser:JaudW060hGelWPS6@traversybradapp.jds6o.mongodb.net/storyBooks?retryWrites=true&w=majority","GOOGLE_CLIENT_ID":"1023148491900-2msh80u955k6bq82nnafep35517amhv8.apps.googleusercontent.com","GOOGLE_CLIENT_SECRET":"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","DEFAULT_IMAGE":"https://images.unsplash.com/photo-1543466835-00a7907e9de1?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80","DEFAULT_REDIRECT":"https://www.youtube.com/watch?v=f1-2xRx2gnE&t=1s&ab_channel=Mavial","LOGGED_STATE_URL":"/api/loggedState","USER_INFO_URL":"/api/userInfo","GET_POSTS_URL":"/api/posts","LOGOUT_REDIRECT_URL":"https://pet-work.herokuapp.com/api/logout","NEW_POST_URL":"/api/new/","EDIT_POST_URL":"/api/edit/"}}')}},[[24,1,2]]]);
//# sourceMappingURL=main.d48d9465.chunk.js.map